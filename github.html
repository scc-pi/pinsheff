<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 8 Version control &amp; GitHub | Notes</title>
<meta name="author" content="Laurie Platt">
<meta name="description" content="You don’t have to be familiar with version control, Git and GitHub to make use of these notes or the contents of the scc-pi repositories. If you’re new to scripting and R, then visualisations or...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 8 Version control &amp; GitHub | Notes">
<meta property="og:type" content="book">
<meta property="og:description" content="You don’t have to be familiar with version control, Git and GitHub to make use of these notes or the contents of the scc-pi repositories. If you’re new to scripting and R, then visualisations or...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 8 Version control &amp; GitHub | Notes">
<meta name="twitter:description" content="You don’t have to be familiar with version control, Git and GitHub to make use of these notes or the contents of the scc-pi repositories. If you’re new to scripting and R, then visualisations or...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script><link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="libs/HomeButton-0.0.1/home-button.js"></script><script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script><script src="libs/clipboard-0.0.1/setClipboardText.js"></script><link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet">
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li class="book-part">Power BI</li>
<li><a class="" href="power-bi-fundamentals.html"><span class="header-section-number">1</span> Power BI fundamentals</a></li>
<li><a class="" href="dax.html"><span class="header-section-number">2</span> DAX</a></li>
<li class="book-part">Scripting</li>
<li><a class="" href="why-script.html"><span class="header-section-number">3</span> Why script?</a></li>
<li><a class="" href="r.html"><span class="header-section-number">4</span> R &amp; RStudio</a></li>
<li><a class="" href="rmd.html"><span class="header-section-number">5</span> R Markdown</a></li>
<li><a class="" href="python.html"><span class="header-section-number">6</span> Python</a></li>
<li><a class="" href="functions-packages.html"><span class="header-section-number">7</span> Functions &amp; packages</a></li>
<li><a class="active" href="github.html"><span class="header-section-number">8</span> Version control &amp; GitHub</a></li>
<li class="book-part">Accessing data</li>
<li><a class="" href="databases.html"><span class="header-section-number">9</span> Council data</a></li>
<li><a class="" href="warehouse.html"><span class="header-section-number">10</span> Databases, warehouses &amp; lakes</a></li>
<li><a class="" href="api.html"><span class="header-section-number">11</span> APIs</a></li>
<li><a class="" href="public-data.html"><span class="header-section-number">12</span> External data sources</a></li>
<li class="book-part">Spatial data</li>
<li><a class="" href="spatial-data-sources.html"><span class="header-section-number">13</span> Spatial data sources</a></li>
<li><a class="" href="gis-with-web-desktop-tools.html"><span class="header-section-number">14</span> GIS with web &amp; desktop tools</a></li>
<li><a class="" href="gis-with-python.html"><span class="header-section-number">15</span> GIS with Python</a></li>
<li><a class="" href="gis-with-r.html"><span class="header-section-number">16</span> GIS with R</a></li>
<li><a class="" href="geocoding.html"><span class="header-section-number">17</span> Postcodes &amp; addresses</a></li>
<li class="book-part">ETL</li>
<li class="book-part">Statistical modelling</li>
<li class="book-part">Visualisation</li>
<li class="book-part">Appendix</li>
<li><a class="" href="other.html"><span class="header-section-number">18</span> Other</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/scc-pi/notes">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="github" class="section level1">
<h1>
<span class="header-section-number">8</span> Version control &amp; GitHub<a class="anchor" aria-label="anchor" href="#github"><i class="fas fa-link"></i></a>
</h1>
<p>You don’t have to be familiar with version control, Git and GitHub to make use of these notes or the contents of the <a href="https://github.com/scc-pi">scc-pi</a> repositories. If you’re <a href="r.html#getting-started-with-r">new to scripting and R</a>, then visualisations or using R Markdown are better starting points than version control.</p>
<p>These notes are public, but to contribute i.e. <a href="https://github.com/scc-pi/notes">edit them</a>, you need a <a href="https://github.com/join">GitHub account</a> and to be granted permission by an owner of <a href="https://github.com/scc-pi">scc-pi</a> (try Laurie first, but Giles and Anne could help too). Then you can edit directly in GitHub via your browser.</p>
<div class="inline-figure"><img src="images/github-edit.png" width="484"></div>
<p>You also need a GitHub account and permission to access one of our private repositories, but not for our public repositories, to download a file, copy &amp; paste code, or source and use a function:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load functions from a public scc-pi repository </span>
<span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/scc-pi/functions/main/Examples.R"</span><span class="op">)</span>

<span class="co"># Call one of our Sheffield area functions that returns LSOA codes </span>
<span class="fu">shef_lsoa_codes</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#only display the first 5 records</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="co">#display them in a nice table </span></code></pre></div>
<pre><code>## [1] "Table"</code></pre>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">LSOA11CD</th>
<th align="left">LSOA11NM</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">E01008124</td>
<td align="left">Sheffield 012F</td>
</tr>
<tr class="even">
<td align="left">E01008125</td>
<td align="left">Sheffield 009G</td>
</tr>
<tr class="odd">
<td align="left">E01007917</td>
<td align="left">Sheffield 071B</td>
</tr>
<tr class="even">
<td align="left">E01033273</td>
<td align="left">Sheffield 042F</td>
</tr>
<tr class="odd">
<td align="left">E01007967</td>
<td align="left">Sheffield 045B</td>
</tr>
</tbody>
</table></div>
<p>Try raising an <a href="https://guides.github.com/features/issues/">issue</a> if you spot a problem, have a suggestion or a question.</p>
<div id="why-version-control" class="section level2">
<h2>
<span class="header-section-number">8.1</span> Why version control?<a class="anchor" aria-label="anchor" href="#why-version-control"><i class="fas fa-link"></i></a>
</h2>
<p>When scripting you might make a backup copy of a file, so if your new changes break what was previously working you can revert to the backup copy. If you’re collating contributions to a document from different people you might use their initials in the file names to indicate and keep track of who’s made contributions in what version e.g. “BI_Principles-GR.docx” and “BI_Principles-NM.docx”. These are both examples of manual version control.</p>
<p>When we talk about version control and scripting we typically mean a version control system. A tool that assists with tracking changes to files over time and by different people. Such systems also usually include reasons for the changes, and file, or rather version, comparison functionality. So a version control system is a backup/audit trail/collaboration thing.</p>
</div>
<div id="git" class="section level2">
<h2>
<span class="header-section-number">8.2</span> GIT<a class="anchor" aria-label="anchor" href="#git"><i class="fas fa-link"></i></a>
</h2>
<p>Git is an open-source distributed version control system for tracking changes in source code during software development.</p>
</div>
<div id="github-1" class="section level2">
<h2>
<span class="header-section-number">8.3</span> GitHub<a class="anchor" aria-label="anchor" href="#github-1"><i class="fas fa-link"></i></a>
</h2>
<p>GitHub is a product that offers Git-based source control repositories. Other products also offer Git-based repositories, such as GitLab, BitBucket, and Azure DevOps.</p>
<p>Our <a href="https://github.com/scc-pi">scc-pi</a> GitHub organisation is a free account. It has had no approval as such. If using it proves successful we will need to discuss approval with BCIS.</p>
<div id="github-security" class="section level3">
<h3>
<span class="header-section-number">8.3.1</span> GitHub security &amp; data protection<a class="anchor" aria-label="anchor" href="#github-security"><i class="fas fa-link"></i></a>
</h3>
<p>GitHub.com is hosted in the US, which is an issue in terms of our data protection obligations. Plus, we’ve not checked compliance with Information Governance, so storing PID (Person Identifiable Data), or anything commercially confidential or politically sensitive, on GitHub.com is currently a no-no.</p>
<p>The <a href="https://git-scm.com/docs/gitignore"><code>.gitignore</code></a> file lists the folders and files you want to exclude from the repository i.e. it specifies what you want to ignore. Holding any file based data (e.g. CSV files), whether they’re original or transformed, in a <code>/data</code> sub-folder, makes it simple to exclude data from the repository by adding the following to the <code>.gitignore</code> file:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="github.html#cb9-1"></a><span class="co"># data directory</span></span>
<span id="cb9-2"><a href="github.html#cb9-2"></a><span class="op">/</span>data<span class="op">/</span></span></code></pre></div>
<p>As an additional precaution, any projects involving confidential information should be held in a private repository and <a href="https://bookdown.org/ndphillips/YaRrr/rdata-files.html"><code>.Rdata</code></a> should also be included in the <code>.gitignore</code> file (see the section on <a href="r.html#pid">RStudio security &amp; data protection</a>):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Session Data files</span>
<span class="va">.RData</span></code></pre></div>
<p>Microsoft own GitHub and <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/github.githubenterprise?tab=overview">GitHub Enterprise Server</a> is the on-premises deployment of GitHub.com that could be hosted on our own Azure environment. However, BitBucket currently looks like a more likely solution than GitHub.</p>
</div>
<div id="bitbucket" class="section level3">
<h3>
<span class="header-section-number">8.3.2</span> BitBucket<a class="anchor" aria-label="anchor" href="#bitbucket"><i class="fas fa-link"></i></a>
</h3>
<p>BitBucket is Council approved and used by Digital Services, the only team in the Council that uses version control for code. BitBucket has an EU hosting option and is cheaper than GitHub. It is more popular with organisations needing private repositories (our main use case), whereas GitHub is more popular with open source projects. Fundamentally, the two have very similar functionality. One difference is the narrower scope of BitBucket, which instead chooses to focus on stronger integration with other software, in particular other Atlassian products such as Trello, Jira and Confluence.</p>
<p>If the current BI Team GitHub trial comes to the conclusion that version control is something we need, we have to have a conversation with Information Governance and TDA about BitBucket. We also need to keep in touch with Digital Services who may switch to an alternative version control provider in July 2022. I need to verify my expectation that using BitBucket with RStudio is the same experience as using GitHub.</p>
</div>
<div id="forking-pull-requests" class="section level3">
<h3>
<span class="header-section-number">8.3.3</span> Forking &amp; pull requests<a class="anchor" aria-label="anchor" href="#forking-pull-requests"><i class="fas fa-link"></i></a>
</h3>
<p>GitHub <a href="https://guides.github.com/activities/forking/">forking</a> and pull requests are common workflows when collaborating on a repository.</p>
<p><em>TODO - we’ll have more to add on this once we’ve collaborated on a repository</em></p>
</div>
<div id="other-features" class="section level3">
<h3>
<span class="header-section-number">8.3.4</span> Other features<a class="anchor" aria-label="anchor" href="#other-features"><i class="fas fa-link"></i></a>
</h3>
<p>GitHub now allows private repositories on <a href="https://docs.github.com/en/github/getting-started-with-github/types-of-github-accounts#organization-accounts">free organisation accounts</a>, but not all GitHub features are available.</p>
<p>The evolution of a repository is captured by commits i.e. the changes to files in the repository. However, the original issue, ideas or discussion surrounding a commit is captured in a GitHub <a href="https://guides.github.com/features/issues/">issue</a>. You can link a commit to an issue by including the issue number prefixed by <code>#</code> in the commit message.</p>
<p>I’ve used a GitHub <a href="https://docs.github.com/en/github/managing-your-work-on-github/about-project-boards">project</a> to organise our private <a href="https://github.com/scc-pi/C19Surveillance">C19Surveillance</a> repository as a kanban board. However, a project is not restricted to issues or a single repository.</p>
<p>GitHub <a href="https://pages.github.com/">pages</a> and <a href="https://github.com/features/actions">actions</a> have been used to <a href="rmd.html#publishing">publish these notes</a>.</p>
<p>There are also other GitHub features to explore.</p>
</div>
</div>
<div id="git-rstudio" class="section level2">
<h2>
<span class="header-section-number">8.4</span> Git &amp; RStudio<a class="anchor" aria-label="anchor" href="#git-rstudio"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://lab.github.com/githubtraining/introduction-to-github">Introduction to GitHub</a> on the GitHub <a href="https://lab.github.com/">Learning Lab</a> is a good place to get started and become familiar with some initial concepts and the GitHub website.</p>
<p>To use GitHub with RStudio there’s a thorough step-by-step guide, <a href="https://happygitwithr.com/">Happy Git with R</a> by Jenny Bryan. My main recommendation is to setup the connection using <a href="https://happygitwithr.com/ssh-keys.html">keys for SSH</a>. This connection method by-passes the issues I’ve had with the Council’s proxy server and using the HTTPS connection method. I’ve also had no issues since working from home and connecting via the Tunnel. Infact, since August 2021 <a href="https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/">GitHub token authentication is required</a> (e.g. SSH) and some on the steps in the Jenny Bryan’s book (e.g. chapters 9 and 10 on connecting and HTTPS) are out of date. As of October 2021 this is the case, but if <a href="https://github.com/jennybc/happy-git-with-r/issues/181">issue #181</a> gets closed in the <a href="https://github.com/jennybc/happy-git-with-r">Happy Git with R GitHub repo</a>, then it’s been fixed. Until then the recommendation is to skip chapters 9 and 10 and focus on 11 and 15 (SSH and New project, GitHub first).</p>
<p>I frequently return to Jenny Bryan’s book, especially for chapters 15, 16 and 17 on different ways of setting up a local RStudio project connected to GitHub. So far, I’ve mainly stuck with <a href="https://happygitwithr.com/new-github-first.html">Chapter 15 New project, GitHub first</a>.</p>
</div>
<div id="further-resources-4" class="section level2">
<h2>
<span class="header-section-number">8.5</span> Further resources<a class="anchor" aria-label="anchor" href="#further-resources-4"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://support.rstudio.com/hc/en-us/articles/200532077?version=1.4.1103&amp;mode=desktop">Version Control with Git and SVN</a>, RStudio Support</p>

</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="functions-packages.html"><span class="header-section-number">7</span> Functions &amp; packages</a></div>
<div class="next"><a href="databases.html"><span class="header-section-number">9</span> Council data</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#github"><span class="header-section-number">8</span> Version control &amp; GitHub</a></li>
<li><a class="nav-link" href="#why-version-control"><span class="header-section-number">8.1</span> Why version control?</a></li>
<li><a class="nav-link" href="#git"><span class="header-section-number">8.2</span> GIT</a></li>
<li>
<a class="nav-link" href="#github-1"><span class="header-section-number">8.3</span> GitHub</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#github-security"><span class="header-section-number">8.3.1</span> GitHub security &amp; data protection</a></li>
<li><a class="nav-link" href="#bitbucket"><span class="header-section-number">8.3.2</span> BitBucket</a></li>
<li><a class="nav-link" href="#forking-pull-requests"><span class="header-section-number">8.3.3</span> Forking &amp; pull requests</a></li>
<li><a class="nav-link" href="#other-features"><span class="header-section-number">8.3.4</span> Other features</a></li>
</ul>
</li>
<li><a class="nav-link" href="#git-rstudio"><span class="header-section-number">8.4</span> Git &amp; RStudio</a></li>
<li><a class="nav-link" href="#further-resources-4"><span class="header-section-number">8.5</span> Further resources</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/scc-pi/notes/blob/master/08-github.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/scc-pi/notes/edit/master/08-github.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Notes</strong>" was written by Laurie Platt. It was last built on 2021-12-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
