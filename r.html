<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 R &amp; RStudio | Notes</title>
  <meta name="description" content="Some notes, examples, lessons learnt and links to further resources." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 R &amp; RStudio | Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Some notes, examples, lessons learnt and links to further resources." />
  <meta name="github-repo" content="scc-pi/notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 R &amp; RStudio | Notes" />
  
  <meta name="twitter:description" content="Some notes, examples, lessons learnt and links to further resources." />
  

<meta name="author" content="Laurie Platt" />


<meta name="date" content="2021-09-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="github.html"/>
<link rel="next" href="rmd.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>1</b> Version Control &amp; GitHub</a><ul>
<li class="chapter" data-level="1.1" data-path="github.html"><a href="github.html#why-version-control"><i class="fa fa-check"></i><b>1.1</b> Why version control?</a></li>
<li class="chapter" data-level="1.2" data-path="github.html"><a href="github.html#git"><i class="fa fa-check"></i><b>1.2</b> GIT</a></li>
<li class="chapter" data-level="1.3" data-path="github.html"><a href="github.html#github-1"><i class="fa fa-check"></i><b>1.3</b> GitHub</a><ul>
<li class="chapter" data-level="1.3.1" data-path="github.html"><a href="github.html#github-security-data-protection"><i class="fa fa-check"></i><b>1.3.1</b> Github security &amp; data protection</a></li>
<li class="chapter" data-level="1.3.2" data-path="github.html"><a href="github.html#forking-and-pull-requests"><i class="fa fa-check"></i><b>1.3.2</b> Forking and pull requests</a></li>
<li class="chapter" data-level="1.3.3" data-path="github.html"><a href="github.html#other-features"><i class="fa fa-check"></i><b>1.3.3</b> Other features</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="github.html"><a href="github.html#git-rstudio"><i class="fa fa-check"></i><b>1.4</b> Git &amp; RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>2</b> R &amp; RStudio</a><ul>
<li class="chapter" data-level="2.1" data-path="r.html"><a href="r.html#why-script"><i class="fa fa-check"></i><b>2.1</b> Why script?</a></li>
<li class="chapter" data-level="2.2" data-path="r.html"><a href="r.html#style-guide"><i class="fa fa-check"></i><b>2.2</b> Style guide</a></li>
<li class="chapter" data-level="2.3" data-path="r.html"><a href="r.html#pid"><i class="fa fa-check"></i><b>2.3</b> RStudio security &amp; data protection</a><ul>
<li class="chapter" data-level="2.3.1" data-path="r.html"><a href="r.html#workspace"><i class="fa fa-check"></i><b>2.3.1</b> Workspace</a></li>
<li class="chapter" data-level="2.3.2" data-path="r.html"><a href="r.html#passwords"><i class="fa fa-check"></i><b>2.3.2</b> Passwords</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r.html"><a href="r.html#getting-started"><i class="fa fa-check"></i><b>2.4</b> Getting started</a></li>
<li class="chapter" data-level="2.5" data-path="r.html"><a href="r.html#rstudio-tips"><i class="fa fa-check"></i><b>2.5</b> RStudio tips</a><ul>
<li class="chapter" data-level="2.5.1" data-path="r.html"><a href="r.html#code-display"><i class="fa fa-check"></i><b>2.5.1</b> Code display</a></li>
<li class="chapter" data-level="2.5.2" data-path="r.html"><a href="r.html#document-outline-and-headings"><i class="fa fa-check"></i><b>2.5.2</b> Document outline and headings</a></li>
<li class="chapter" data-level="2.5.3" data-path="r.html"><a href="r.html#viewpipesteps-addin"><i class="fa fa-check"></i><b>2.5.3</b> ViewPipeSteps addin</a></li>
<li class="chapter" data-level="2.5.4" data-path="r.html"><a href="r.html#shortcuts"><i class="fa fa-check"></i><b>2.5.4</b> Shortcuts</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="r.html"><a href="r.html#further-resources"><i class="fa fa-check"></i><b>2.6</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rmd.html"><a href="rmd.html"><i class="fa fa-check"></i><b>3</b> R Markdown</a><ul>
<li class="chapter" data-level="3.1" data-path="rmd.html"><a href="rmd.html#r-markdown-vs-markdown"><i class="fa fa-check"></i><b>3.1</b> R Markdown vs Markdown</a></li>
<li class="chapter" data-level="3.2" data-path="rmd.html"><a href="rmd.html#child-markdown-iteration"><i class="fa fa-check"></i><b>3.2</b> Child markdown iteration</a></li>
<li class="chapter" data-level="3.3" data-path="rmd.html"><a href="rmd.html#notebooks"><i class="fa fa-check"></i><b>3.3</b> Notebooks</a></li>
<li class="chapter" data-level="3.4" data-path="rmd.html"><a href="rmd.html#bookdown"><i class="fa fa-check"></i><b>3.4</b> Bookdown</a><ul>
<li class="chapter" data-level="3.4.1" data-path="rmd.html"><a href="rmd.html#themes"><i class="fa fa-check"></i><b>3.4.1</b> Themes</a></li>
<li class="chapter" data-level="3.4.2" data-path="rmd.html"><a href="rmd.html#publishing"><i class="fa fa-check"></i><b>3.4.2</b> Publishing</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rmd.html"><a href="rmd.html#flexdashboard"><i class="fa fa-check"></i><b>3.5</b> Flexdashboard</a></li>
<li class="chapter" data-level="3.6" data-path="rmd.html"><a href="rmd.html#further-resources-1"><i class="fa fa-check"></i><b>3.6</b> Further resources</a></li>
<li class="chapter" data-level="3.7" data-path="rmd.html"><a href="rmd.html#r-markdown-tips"><i class="fa fa-check"></i><b>3.7</b> R Markdown tips</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rmd.html"><a href="rmd.html#markdown-visual-editor"><i class="fa fa-check"></i><b>3.7.1</b> Markdown visual editor</a></li>
<li class="chapter" data-level="3.7.2" data-path="rmd.html"><a href="rmd.html#chunk-named-setup"><i class="fa fa-check"></i><b>3.7.2</b> Chunk named setup</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="api.html"><a href="api.html"><i class="fa fa-check"></i><b>4</b> APIs</a><ul>
<li class="chapter" data-level="4.1" data-path="api.html"><a href="api.html#rest-apis"><i class="fa fa-check"></i><b>4.1</b> REST APIs</a></li>
<li class="chapter" data-level="4.2" data-path="api.html"><a href="api.html#wrappers"><i class="fa fa-check"></i><b>4.2</b> Wrappers</a></li>
<li class="chapter" data-level="4.3" data-path="api.html"><a href="api.html#rectangling"><i class="fa fa-check"></i><b>4.3</b> Rectangling</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="python.html"><a href="python.html"><i class="fa fa-check"></i><b>5</b> Python</a><ul>
<li class="chapter" data-level="5.1" data-path="python.html"><a href="python.html#reticulate"><i class="fa fa-check"></i><b>5.1</b> Reticulate</a></li>
<li class="chapter" data-level="5.2" data-path="python.html"><a href="python.html#arcgis-api-wrappers"><i class="fa fa-check"></i><b>5.2</b> ArcGIS &amp; API wrappers</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gis.html"><a href="gis.html"><i class="fa fa-check"></i><b>6</b> GIS</a><ul>
<li class="chapter" data-level="6.1" data-path="gis.html"><a href="gis.html#spatial-data"><i class="fa fa-check"></i><b>6.1</b> Spatial data</a><ul>
<li class="chapter" data-level="6.1.1" data-path="gis.html"><a href="gis.html#councils-spatial-data"><i class="fa fa-check"></i><b>6.1.1</b> Council’s spatial data</a></li>
<li class="chapter" data-level="6.1.2" data-path="gis.html"><a href="gis.html#other-spatial-data"><i class="fa fa-check"></i><b>6.1.2</b> Other spatial data</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="gis.html"><a href="gis.html#web-maps-dashboards"><i class="fa fa-check"></i><b>6.2</b> Web maps &amp; dashboards</a><ul>
<li class="chapter" data-level="6.2.1" data-path="gis.html"><a href="gis.html#arcgis"><i class="fa fa-check"></i><b>6.2.1</b> ArcGIS</a></li>
<li class="chapter" data-level="6.2.2" data-path="gis.html"><a href="gis.html#power-bi"><i class="fa fa-check"></i><b>6.2.2</b> Power BI</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="gis.html"><a href="gis.html#desktop-gis"><i class="fa fa-check"></i><b>6.3</b> Desktop GIS</a><ul>
<li class="chapter" data-level="6.3.1" data-path="gis.html"><a href="gis.html#arcgis-desktop"><i class="fa fa-check"></i><b>6.3.1</b> ArcGIS Desktop</a></li>
<li class="chapter" data-level="6.3.2" data-path="gis.html"><a href="gis.html#arcgis-pro"><i class="fa fa-check"></i><b>6.3.2</b> ArcGIS Pro</a></li>
<li class="chapter" data-level="6.3.3" data-path="gis.html"><a href="gis.html#qgis"><i class="fa fa-check"></i><b>6.3.3</b> QGIS</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="gis.html"><a href="gis.html#scripted-gis"><i class="fa fa-check"></i><b>6.4</b> Scripted GIS</a><ul>
<li class="chapter" data-level="6.4.1" data-path="gis.html"><a href="gis.html#features"><i class="fa fa-check"></i><b>6.4.1</b> Features</a></li>
<li class="chapter" data-level="6.4.2" data-path="gis.html"><a href="gis.html#simple-features"><i class="fa fa-check"></i><b>6.4.2</b> Simple features</a></li>
<li class="chapter" data-level="6.4.3" data-path="gis.html"><a href="gis.html#coordinates-projections"><i class="fa fa-check"></i><b>6.4.3</b> Coordinates &amp; projections</a></li>
<li class="chapter" data-level="6.4.4" data-path="gis.html"><a href="gis.html#arcgis-r-python-packages"><i class="fa fa-check"></i><b>6.4.4</b> ArcGIS R &amp; Python packages</a></li>
<li class="chapter" data-level="6.4.5" data-path="gis.html"><a href="gis.html#leaflet"><i class="fa fa-check"></i><b>6.4.5</b> Leaflet</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="gis.html"><a href="gis.html#rasters"><i class="fa fa-check"></i><b>6.5</b> Rasters</a></li>
<li class="chapter" data-level="6.6" data-path="gis.html"><a href="gis.html#further-resources-2"><i class="fa fa-check"></i><b>6.6</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>7</b> Postcodes &amp; Addresses</a><ul>
<li class="chapter" data-level="7.1" data-path="geocoding.html"><a href="geocoding.html#uprn"><i class="fa fa-check"></i><b>7.1</b> UPRN</a></li>
<li class="chapter" data-level="7.2" data-path="geocoding.html"><a href="geocoding.html#postcodes"><i class="fa fa-check"></i><b>7.2</b> Postcodes</a><ul>
<li class="chapter" data-level="7.2.1" data-path="geocoding.html"><a href="geocoding.html#pas-postcode-lookup"><i class="fa fa-check"></i><b>7.2.1</b> PAS Postcode Lookup</a></li>
<li class="chapter" data-level="7.2.2" data-path="geocoding.html"><a href="geocoding.html#postcode-boundaries"><i class="fa fa-check"></i><b>7.2.2</b> Postcode Boundaries</a></li>
<li class="chapter" data-level="7.2.3" data-path="geocoding.html"><a href="geocoding.html#split-postcodes"><i class="fa fa-check"></i><b>7.2.3</b> Split postcodes</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="geocoding.html"><a href="geocoding.html#addresses"><i class="fa fa-check"></i><b>7.3</b> Addresses</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="public-data.html"><a href="public-data.html"><i class="fa fa-check"></i><b>8</b> Public Data Sources</a><ul>
<li class="chapter" data-level="8.1" data-path="public-data.html"><a href="public-data.html#office-of-national-statistics"><i class="fa fa-check"></i><b>8.1</b> Office of National Statistics</a><ul>
<li class="chapter" data-level="8.1.1" data-path="public-data.html"><a href="public-data.html#crm"><i class="fa fa-check"></i><b>8.1.1</b> CRM</a></li>
<li class="chapter" data-level="8.1.2" data-path="public-data.html"><a href="public-data.html#nomis"><i class="fa fa-check"></i><b>8.1.2</b> NOMIS</a></li>
<li class="chapter" data-level="8.1.3" data-path="public-data.html"><a href="public-data.html#open-geography"><i class="fa fa-check"></i><b>8.1.3</b> Open Geography Portal</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="public-data.html"><a href="public-data.html#ministry-of-housing-communities-local-government"><i class="fa fa-check"></i><b>8.2</b> Ministry of Housing, Communities &amp; Local Government</a></li>
<li class="chapter" data-level="8.3" data-path="public-data.html"><a href="public-data.html#ordnance-survey"><i class="fa fa-check"></i><b>8.3</b> Ordnance Survey</a><ul>
<li class="chapter" data-level="8.3.1" data-path="public-data.html"><a href="public-data.html#os-data-hub"><i class="fa fa-check"></i><b>8.3.1</b> OS Data Hub</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="public-data.html"><a href="public-data.html#lginform"><i class="fa fa-check"></i><b>8.4</b> LGInform?</a></li>
<li class="chapter" data-level="8.5" data-path="public-data.html"><a href="public-data.html#lsoapop-r-package"><i class="fa fa-check"></i><b>8.5</b> LSOApop R package</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="databases.html"><a href="databases.html"><i class="fa fa-check"></i><b>9</b> Databases</a><ul>
<li class="chapter" data-level="9.1" data-path="databases.html"><a href="databases.html#corporate-data-warehouse"><i class="fa fa-check"></i><b>9.1</b> Corporate data warehouse</a><ul>
<li class="chapter" data-level="9.1.1" data-path="databases.html"><a href="databases.html#oscar"><i class="fa fa-check"></i><b>9.1.1</b> OSCAR</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="databases.html"><a href="databases.html#corporate-spatial-database"><i class="fa fa-check"></i><b>9.2</b> Corporate spatial database</a></li>
<li class="chapter" data-level="9.3" data-path="databases.html"><a href="databases.html#sqlite"><i class="fa fa-check"></i><b>9.3</b> SQLite</a><ul>
<li class="chapter" data-level="9.3.1" data-path="databases.html"><a href="databases.html#spatialite"><i class="fa fa-check"></i><b>9.3.1</b> SpatiaLite</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="databases.html"><a href="databases.html#further-resources-3"><i class="fa fa-check"></i><b>9.4</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="other.html"><a href="other.html"><i class="fa fa-check"></i><b>10</b> Other</a><ul>
<li class="chapter" data-level="10.1" data-path="other.html"><a href="other.html#renv"><i class="fa fa-check"></i><b>10.1</b> renv</a></li>
<li class="chapter" data-level="10.2" data-path="other.html"><a href="other.html#docker"><i class="fa fa-check"></i><b>10.2</b> Docker</a></li>
<li class="chapter" data-level="10.3" data-path="other.html"><a href="other.html#reprex-r-package"><i class="fa fa-check"></i><b>10.3</b> reprex R package</a></li>
<li class="chapter" data-level="10.4" data-path="other.html"><a href="other.html#writing-r-packages"><i class="fa fa-check"></i><b>10.4</b> Writing R packages</a><ul>
<li class="chapter" data-level="10.4.1" data-path="other.html"><a href="other.html#roxygen2"><i class="fa fa-check"></i><b>10.4.1</b> roxygen2</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="other.html"><a href="other.html#plumber-r-package"><i class="fa fa-check"></i><b>10.5</b> plumber R package</a></li>
<li class="chapter" data-level="10.6" data-path="other.html"><a href="other.html#data-visualisation"><i class="fa fa-check"></i><b>10.6</b> Data Visualisation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> R &amp; RStudio</h1>
<div id="why-script" class="section level2">
<h2><span class="header-section-number">2.1</span> Why script?</h2>
<p>I initially started scripting in Python to automate some spatial analysis tasks, but soon realised that reproducibility was the main advantage. Iterating, improving a process incrementally and at the end verifying the results by re-running the script.</p>
<p>There’s an element of self-documentation with scripting, so it’s easier to return to a scripted task after a bit of time away from it, or pick up a scripted task from a colleague. However, in-line comments and adherence to a style guide make a big difference to just how easy it is. Version control and collaboration are also easier with scripting than GUI tools.</p>
<p>Scripting is not always better than using GUI tools. There’s a good reason that more people use Mac OS and Windows than Unix Bash. Scripting or GUI tools is a horses for courses question, and some GUI workflow tools (e.g. FME, Simul8 and ModelBuilder in ArcGIS) sit somewhere in the middle.</p>
</div>
<div id="style-guide" class="section level2">
<h2><span class="header-section-number">2.2</span> Style guide</h2>
<p>Something I need to pay more attention to is following the <a href="https://style.tidyverse.org/">tidyverse style guide</a>, which benefits from supporting tools and familiarity via tidyverse package documentation.</p>
<p>Scripting to the same style guide makes collaboration easier. Which style guide is less important than collaborators scripting to the same style guide.</p>
</div>
<div id="pid" class="section level2">
<h2><span class="header-section-number">2.3</span> RStudio security &amp; data protection</h2>
<div id="workspace" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Workspace</h3>
<p>To encourage reproducible R scripts, Hadley Wickham recommends not preserving your workspace between sessions. This entails deselecting a couple of options to save and restore .Rdata (see <a href="https://r4ds.had.co.nz/workflow-projects.html#what-is-real">chapter 8 Workflow: projects</a> in Hadley’s R4DS book).</p>
<p>Hadley’s recommendation also reduces the chances of inadvertently sharing PID in a GitHub repository. However, .Rdata should also be included in the <a href="https://git-scm.com/docs/gitignore">.gitignore</a> file and the repository set to private.</p>
</div>
<div id="passwords" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Passwords</h3>
<p>It’s poor practice to include login details in code. I use the <code>.Renviron</code> file option for <a href="https://db.rstudio.com/best-practices/managing-credentials/#use-environment-variables">securing credentials</a>. However, if you’re sharing the script you can anticipate that the environment variable might not be set and use the RStudio API to prompt for credentials. For example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="r.html#cb3-1"></a>portal_pwd &lt;-<span class="st"> </span><span class="kw">Sys.getenv</span>(<span class="st">&quot;portal_pwd&quot;</span>)</span>
<span id="cb3-2"><a href="r.html#cb3-2"></a><span class="cf">if</span>(<span class="kw">length</span>(portal_pwd) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>){</span>
<span id="cb3-3"><a href="r.html#cb3-3"></a>  portal_pwd &lt;-<span class="st"> </span>rstudioapi<span class="op">::</span><span class="kw">askForPassword</span>(<span class="st">&quot;Portal password&quot;</span>)</span>
<span id="cb3-4"><a href="r.html#cb3-4"></a>}</span></code></pre></div>
</div>
</div>
<div id="getting-started" class="section level2">
<h2><span class="header-section-number">2.4</span> Getting started</h2>
<p>I’m not going to provide advice on getting started, other than signposting to the excellent resources listed on the RStudio beginners page:</p>
<p><a href="https://education.rstudio.com/learn/beginner/">RStudio Education - Beginners</a></p>
</div>
<div id="rstudio-tips" class="section level2">
<h2><span class="header-section-number">2.5</span> RStudio tips</h2>
<div id="code-display" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Code display</h3>
<p>A few non-default Global Options, under Code and Display, make it a little easier to read and write code:</p>
<ul>
<li><p>Show margin (aim to limit a line of code to 80 characters)</p></li>
<li><p>Highlight R function calls</p></li>
<li><p>Rainbow parentheses (since RStudio v1.4)</p></li>
</ul>
<p><img src="images/code-display.png" /></p>
</div>
<div id="document-outline-and-headings" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Document outline and headings</h3>
<p>Code sections and subsections are useful:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="r.html#cb4-1"></a><span class="co"># Prefix a section with a hash tag and suffix with 4 or more dashes ----</span></span>
<span id="cb4-2"><a href="r.html#cb4-2"></a><span class="co">## Subsections have additional hash tags ----</span></span></code></pre></div>
<p>The sections can be collapsed and are also listed in the document outline pane:</p>
<p><img src="images/doc-outline.png" /></p>
</div>
<div id="viewpipesteps-addin" class="section level3">
<h3><span class="header-section-number">2.5.3</span> ViewPipeSteps addin</h3>
<p>The <a href="https://r4ds.had.co.nz/pipes.html">pipe</a> <code>%&gt;%</code> is useful for reading and writing code, but can make debugging cumbersome. The <code>ViewPipeSteps</code> addin lets you view the output of your pipe chain after each step. To install:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="r.html#cb5-1"></a>devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;daranzolin/ViewPipeSteps&quot;</span>)</span>
<span id="cb5-2"><a href="r.html#cb5-2"></a><span class="kw">library</span>(ViewPipeSteps)</span></code></pre></div>
<p>To use:</p>
<p><img src="images/view-pipe-steps.png" /></p>
</div>
<div id="shortcuts" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Shortcuts</h3>
<p>RStudio has lots of shortcuts. What you find most useful is down to preference and the areas of the IDE you use most often. These are the shortcuts I’ve found most useful:</p>
<table>
<tbody>
<tr class="odd">
<td>Ctrl + Enter</td>
<td>run selected lines</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + P</td>
<td>re-run previous</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + C</td>
<td>comment/uncomment lines</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + A</td>
<td>reformat code</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + R</td>
<td>insert section</td>
</tr>
<tr class="even">
<td>Alt + -</td>
<td>assignment operator &lt;-</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + M</td>
<td>pipe operator %&gt;%</td>
</tr>
<tr class="even">
<td>Ctrl + left mouse button</td>
<td>View the object clicked</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + F10</td>
<td>Restart R session</td>
</tr>
<tr class="even">
<td>Ctrl + Shift + P</td>
<td>Command palette</td>
</tr>
</tbody>
</table>
<p><em>TODO</em> <br />
- <em>Write settings</em></p>
</div>
</div>
<div id="further-resources" class="section level2">
<h2><span class="header-section-number">2.6</span> Further resources</h2>
<p><a href="https://www.r-bloggers.com/2021/03/5-tips-for-writing-clean-r-code-leave-your-code-reviewer-commentless/">5 tips for writing clean R code</a>,by Marcin Dubel in R bloggers (15 March 2021)</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="github.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rmd.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

</body>

</html>
